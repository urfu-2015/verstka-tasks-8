body
{
    background: #aaa;
}

input
{
    display: none;
}

.market
{
    transform-style: preserve-3d;
    display: flex;
    align-items: center;
    perspective: 500px;
    position: absolute;
    top: 300px;
    width: 100%;
}

div[class^='card']
{
    border: 1px solid black;
    width: 380px;
    transition-property: all;
    transition-duration: .5s;
    background: #fff;
}

.market img
{
    display: block;
    max-width: 100%;
    max-height: 100%;
}

.market label
{
    display: block;
    height: 100%;
    width: 100%;
}

#img4:checked ~ .card4
{
    transform: translateZ(60px);
}

#img1:checked ~ .card1
{
    transform: translateX(540px) translateZ(60px);
}

#img1:checked ~ .card2
{
    transform: translateX(450px) rotateY(-50deg);
}

#img1:checked ~ .card3
{
    transform: translateX(360px) rotateY(-50deg);
}

#img2:checked ~ .card1
{
    transform: translateX(450px) rotateY(50deg);
}

#img2:checked ~ .card2
{
    transform: translateX(360px) translateZ(60px);
}

#img3:checked ~ .card1
{
    transform: translateX(360px) rotateY(50deg);
}

#img3:checked ~ .card3
{
    transform: translateX(180px) translateZ(60px);
}

#img5:checked ~ .card5
{
    transform: translateX(-180px) translateZ(60px);
}

#img5:checked ~ .card7
{
    transform: translateX(-360px) rotateY(-50deg);
}

#img6:checked ~ .card6
{
    transform: translateX(-360px) translateZ(60px);
}

#img6:checked ~ .card7
{
    transform: translateX(-450px) rotateY(-50deg);
}

#img7:checked ~ .card5
{
    transform: translateX(-360px) rotateY(50deg);
}

#img7:checked ~ .card6
{
    transform: translateX(-450px) rotateY(50deg);
}

#img7:checked ~ .card7
{
    transform: translateX(-540px) translateZ(60px);
}

#img4:checked ~ .card1,
#img3:checked ~ .card2
{
    transform: translateX(270px) rotateY(50deg);
}

#img4:checked ~ .card2,
#img5:checked ~ .card1
{
    transform: translateX(180px) rotateY(50deg);
}

#img4:checked ~ .card3,
#img5:checked ~ .card2,
#img6:checked ~ .card1
{
    transform: translateX(90px) rotateY(50deg);
}

#img4:checked ~ .card5,
#img2:checked ~ .card7,
#img3:checked ~ .card6
{
    transform: translateX(-90px) rotateY(-50deg);
}

#img4:checked ~ .card6,
#img3:checked ~ .card7
{
    transform: translateX(-180px) rotateY(-50deg);
}

#img4:checked ~ .card7,
#img5:checked ~ .card6
{
    transform: translateX(-270px) rotateY(-50deg);
}

#img1:checked ~ .card4,
#img2:checked ~ .card3
{
    transform: translateX(270px) rotateY(-50deg);
}

#img1:checked ~ .card5,
#img2:checked ~ .card4
{
    transform: translateX(180px) rotateY(-50deg);
}

#img1:checked ~ .card6,
#img2:checked ~ .card5,
#img3:checked ~ .card4
{
    transform: translateX(90px) rotateY(-50deg);
}

#img1:checked ~ .card7,
#img2:checked ~ .card6,
#img3:checked ~ .card5
{
    transform: rotateY(-50deg);
}

#img5:checked ~ .card3,
#img6:checked ~ .card2,
#img7:checked ~ .card1
{
    transform: rotateY(50deg);
}

#img5:checked ~ .card4,
#img6:checked ~ .card3,
#img7:checked ~ .card2
{
    transform: translateX(-90px) rotateY(50deg);
}

#img6:checked ~ .card4,
#img7:checked ~ .card3
{
    transform: translateX(-180px) rotateY(50deg);
}

#img6:checked ~ .card5,
#img7:checked ~ .card4
{
    transform: translateX(-270px) rotateY(50deg);
}

